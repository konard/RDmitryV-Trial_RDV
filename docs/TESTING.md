# Testing Guide

–≠—Ç–æ—Ç –¥–æ–∫—É–º–µ–Ω—Ç –æ–ø–∏—Å—ã–≤–∞–µ—Ç —Å—Ç—Ä–∞—Ç–µ–≥–∏—é —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –ø—Ä–æ–µ–∫—Ç–∞ "–ò—Å–∫—É—Å–∞–Ω–Ω—ã–π –ò–Ω—Ç–µ–ª–ª–µ–∫—Ç–æ–º –ú–∞—Ä–∫–µ—Ç–æ–ª—É—Ö" –∏ –ø—Ä–æ—Ü–µ–¥—É—Ä—ã –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Ç–∏–ø–æ–≤ —Ç–µ—Å—Ç–æ–≤.

## üìã –û–≥–ª–∞–≤–ª–µ–Ω–∏–µ

- [–¢–∏–ø—ã —Ç–µ—Å—Ç–æ–≤](#—Ç–∏–ø—ã-—Ç–µ—Å—Ç–æ–≤)
- [Backend —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ](#backend-—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ)
- [Frontend —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ](#frontend-—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ)
- [–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏](#—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ-–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏)
- [–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏](#—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ-–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏)
- [CI/CD –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è](#cicd-–∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è)
- [–ü–æ–∫—Ä—ã—Ç–∏–µ –∫–æ–¥–∞](#–ø–æ–∫—Ä—ã—Ç–∏–µ-–∫–æ–¥–∞)

## –¢–∏–ø—ã —Ç–µ—Å—Ç–æ–≤

–ü—Ä–æ–µ–∫—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å–ª–µ–¥—É—é—â–∏–µ —Ç–∏–ø—ã —Ç–µ—Å—Ç–æ–≤:

### 1. Unit Tests (–ú–æ–¥—É–ª—å–Ω—ã–µ —Ç–µ—Å—Ç—ã)
- –¢–µ—Å—Ç–∏—Ä—É—é—Ç –æ—Ç–¥–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –∏ –∫–ª–∞—Å—Å—ã –≤ –∏–∑–æ–ª—è—Ü–∏–∏
- –ò—Å–ø–æ–ª—å–∑—É—é—Ç –º–æ–∫–∏ –¥–ª—è –≤–Ω–µ—à–Ω–∏—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
- –ë—ã—Å—Ç—Ä—ã–µ –∏ –Ω–∞–¥–µ–∂–Ω—ã–µ

### 2. Integration Tests (–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã)
- –¢–µ—Å—Ç–∏—Ä—É—é—Ç –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ –º–µ–∂–¥—É –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏
- –ò—Å–ø–æ–ª—å–∑—É—é—Ç —Ä–µ–∞–ª—å–Ω—É—é –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö (—Ç–µ—Å—Ç–æ–≤—É—é)
- –ü—Ä–æ–≤–µ—Ä—è—é—Ç API endpoints

### 3. End-to-End Tests (E2E —Ç–µ—Å—Ç—ã)
- –¢–µ—Å—Ç–∏—Ä—É—é—Ç –ø–æ–ª–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏
- –ò—Å–ø–æ–ª—å–∑—É—é—Ç –±—Ä–∞—É–∑–µ—Ä–Ω—É—é –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—é
- –ü—Ä–æ–≤–µ—Ä—è—é—Ç frontend + backend –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é

### 4. Performance Tests (–¢–µ—Å—Ç—ã –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏)
- –ù–∞–≥—Ä—É–∑–æ—á–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤—Ä–µ–º–µ–Ω–∏ –æ—Ç–∫–ª–∏–∫–∞
- –ü—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–∏–µ —É–∑–∫–∏—Ö –º–µ—Å—Ç

### 5. Security Tests (–¢–µ—Å—Ç—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏)
- SQL injection
- XSS (Cross-Site Scripting)
- CSRF (Cross-Site Request Forgery)
- –ê—É–¥–∏—Ç –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

---

## Backend —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

```bash
cd backend
pip install -r requirements.txt
pip install -r requirements-dev.txt
```

### –ó–∞–ø—É—Å–∫ –≤—Å–µ—Ö backend —Ç–µ—Å—Ç–æ–≤

```bash
cd backend
pytest tests/ -v
```

### –ó–∞–ø—É—Å–∫ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Ç–∏–ø–∞ —Ç–µ—Å—Ç–æ–≤

```bash
# –¢–æ–ª—å–∫–æ unit —Ç–µ—Å—Ç—ã
pytest tests/ -m "not integration" -v

# –¢–æ–ª—å–∫–æ integration —Ç–µ—Å—Ç—ã
pytest tests/ -m integration -v

# –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π —Ñ–∞–π–ª
pytest tests/test_llm_service.py -v

# –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π —Ç–µ—Å—Ç
pytest tests/test_llm_service.py::TestLLMService::test_analyze_market_success -v
```

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å –ø–æ–∫—Ä—ã—Ç–∏–µ–º –∫–æ–¥–∞

```bash
# –ó–∞–ø—É—Å–∫ —Å –æ—Ç—á–µ—Ç–æ–º –æ –ø–æ–∫—Ä—ã—Ç–∏–∏
pytest tests/ --cov=app --cov-report=html --cov-report=term-missing

# –ü—Ä–æ—Å–º–æ—Ç—Ä HTML –æ—Ç—á–µ—Ç–∞
open htmlcov/index.html  # macOS
xdg-open htmlcov/index.html  # Linux
start htmlcov/index.html  # Windows
```

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ backend —Ç–µ—Å—Ç–æ–≤

```
backend/tests/
‚îú‚îÄ‚îÄ conftest.py                    # –û–±—â–∏–µ —Ñ–∏–∫—Å—Ç—É—Ä—ã
‚îú‚îÄ‚îÄ __init__.py
‚îú‚îÄ‚îÄ test_llm_service.py           # –¢–µ—Å—Ç—ã LLM —Å–µ—Ä–≤–∏—Å–∞
‚îú‚îÄ‚îÄ test_nlp_services.py          # –¢–µ—Å—Ç—ã NLP —Å–µ—Ä–≤–∏—Å–æ–≤
‚îú‚îÄ‚îÄ test_api_research.py          # –¢–µ—Å—Ç—ã Research API
‚îú‚îÄ‚îÄ test_report_generation.py    # –¢–µ—Å—Ç—ã –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –æ—Ç—á–µ—Ç–æ–≤
‚îú‚îÄ‚îÄ test_verification.py          # –¢–µ—Å—Ç—ã –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏
‚îú‚îÄ‚îÄ performance/
‚îÇ   ‚îî‚îÄ‚îÄ locustfile.py            # –ù–∞–≥—Ä—É–∑–æ—á–Ω—ã–µ —Ç–µ—Å—Ç—ã
‚îî‚îÄ‚îÄ security/
    ‚îî‚îÄ‚îÄ test_security.py         # –¢–µ—Å—Ç—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
```

### –í–∞–∂–Ω—ã–µ —Ç–µ—Å—Ç–æ–≤—ã–µ —Ñ–∏–∫—Å—Ç—É—Ä—ã

```python
# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ —Ç–µ—Å—Ç–∞—Ö
async def test_create_research(client: AsyncClient, test_user: User):
    # client - HTTP –∫–ª–∏–µ–Ω—Ç –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è API
    # test_user - —Ç–µ—Å—Ç–æ–≤—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å
    # db_session - —Ç–µ—Å—Ç–æ–≤–∞—è —Å–µ—Å—Å–∏—è –ë–î
    pass
```

---

## Frontend —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```bash
cd frontend
npm install
```

### Unit —Ç–µ—Å—Ç—ã (Vitest)

```bash
# –ó–∞–ø—É—Å–∫ unit —Ç–µ—Å—Ç–æ–≤
npm run test

# –ó–∞–ø—É—Å–∫ —Å UI
npm run test:ui

# –ó–∞–ø—É—Å–∫ —Å –ø–æ–∫—Ä—ã—Ç–∏–µ–º
npm run test:coverage
```

### E2E —Ç–µ—Å—Ç—ã (Playwright)

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –±—Ä–∞—É–∑–µ—Ä–æ–≤ –¥–ª—è Playwright
npx playwright install

# –ó–∞–ø—É—Å–∫ E2E —Ç–µ—Å—Ç–æ–≤
npm run test:e2e

# –ó–∞–ø—É—Å–∫ —Å UI
npm run test:e2e:ui

# –ó–∞–ø—É—Å–∫ –≤ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–º –±—Ä–∞—É–∑–µ—Ä–µ
npx playwright test --project=chromium
```

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ frontend —Ç–µ—Å—Ç–æ–≤

```
frontend/
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îî‚îÄ‚îÄ components/
‚îÇ       ‚îî‚îÄ‚îÄ __tests__/
‚îÇ           ‚îî‚îÄ‚îÄ HelloWorld.spec.ts   # Unit —Ç–µ—Å—Ç—ã –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
‚îú‚îÄ‚îÄ tests/
‚îÇ   ‚îî‚îÄ‚îÄ e2e/
‚îÇ       ‚îî‚îÄ‚îÄ example.spec.ts          # E2E —Ç–µ—Å—Ç—ã
‚îú‚îÄ‚îÄ vitest.config.ts                 # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Vitest
‚îî‚îÄ‚îÄ playwright.config.ts             # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Playwright
```

### –ü—Ä–∏–º–µ—Ä—ã —Ç–µ—Å—Ç–æ–≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

```typescript
import { describe, it, expect } from 'vitest'
import { mount } from '@vue/test-utils'
import MyComponent from '../MyComponent.vue'

describe('MyComponent', () => {
  it('renders properly', () => {
    const wrapper = mount(MyComponent, {
      props: { msg: 'Hello' }
    })
    expect(wrapper.text()).toContain('Hello')
  })
})
```

---

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

### Locust (–Ω–∞–≥—Ä—É–∑–æ—á–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ)

```bash
cd backend

# –ó–∞–ø—É—Å–∫ Locust UI
locust -f tests/performance/locustfile.py --host=http://localhost:8000

# –û—Ç–∫—Ä–æ–π—Ç–µ http://localhost:8089 –≤ –±—Ä–∞—É–∑–µ—Ä–µ

# Headless —Ä–µ–∂–∏–º (–±–µ–∑ UI)
locust -f tests/performance/locustfile.py \
  --host=http://localhost:8000 \
  --users 100 \
  --spawn-rate 10 \
  --run-time 5m \
  --headless
```

### –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –Ω–∞–≥—Ä—É–∑–æ—á–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

- **Users**: –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- **Spawn rate**: –°–∫–æ—Ä–æ—Å—Ç—å –ø–æ—è–≤–ª–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –≤ —Å–µ–∫—É–Ω–¥—É
- **Run time**: –ü—Ä–æ–¥–æ–ª–∂–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å —Ç–µ—Å—Ç–∞

### –ë—ã—Å—Ç—Ä—ã–π smoke test

```bash
locust -f tests/performance/locustfile.py \
  --host=http://localhost:8000 \
  --users 10 \
  --spawn-rate 2 \
  --run-time 1m \
  --headless
```

---

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

### –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ (Bandit)

```bash
cd backend

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–¥–∞ –Ω–∞ —É—è–∑–≤–∏–º–æ—Å—Ç–∏
bandit -r app/ -f json -o bandit-report.json

# –ü—Ä–æ—Å–º–æ—Ç—Ä –æ—Ç—á–µ—Ç–∞
cat bandit-report.json | jq
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π (Safety)

```bash
cd backend

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏–∑–≤–µ—Å—Ç–Ω—ã—Ö —É—è–∑–≤–∏–º–æ—Å—Ç–µ–π –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è—Ö
safety check --json

# –î–µ—Ç–∞–ª—å–Ω—ã–π –æ—Ç—á–µ—Ç
safety check --full-report
```

### –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

```bash
# SQL Injection, XSS, CSRF —Ç–µ—Å—Ç—ã
pytest tests/security/test_security.py -v
```

### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

1. **SQL Injection**: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ ORM (SQLAlchemy) —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–º–∏ –∑–∞–ø—Ä–æ—Å–∞–º–∏
2. **XSS**: Escape/sanitize –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –≤–≤–æ–¥
3. **CSRF**: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ CSRF —Ç–æ–∫–µ–Ω—ã –¥–ª—è state-changing –æ–ø–µ—Ä–∞—Ü–∏–π
4. **–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è**: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–∏–ª—å–Ω—ã–µ –ø–∞—Ä–æ–ª–∏ –∏ JWT —Ç–æ–∫–µ–Ω—ã
5. **HTTPS**: –í—Å–µ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ HTTPS –≤ production

---

## CI/CD –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è

### GitHub Actions Workflow

–í—Å–µ —Ç–µ—Å—Ç—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–ø—É—Å–∫–∞—é—Ç—Å—è –ø—Ä–∏ push –∏ pull request:

```yaml
# .github/workflows/ci.yml

jobs:
  lint:          # –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–¥–∞ (ruff, mypy)
  test:          # Backend —Ç–µ—Å—Ç—ã + –ø–æ–∫—Ä—ã—Ç–∏–µ
  frontend-test: # Frontend —Ç–µ—Å—Ç—ã + –ø–æ–∫—Ä—ã—Ç–∏–µ
  build:         # –°–±–æ—Ä–∫–∞ Docker –æ–±—Ä–∞–∑–æ–≤
```

### –ü—Ä–æ—Å–º–æ—Ç—Ä —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ —Ä–∞–∑–¥–µ–ª "Actions" –Ω–∞ GitHub
2. –í—ã–±–µ—Ä–∏—Ç–µ –Ω—É–∂–Ω—ã–π workflow run
3. –ü—Ä–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –ª–æ–≥–∏ –∫–∞–∂–¥–æ–≥–æ job
4. –°–∫–∞—á–∞–π—Ç–µ artifacts (coverage reports)

### –õ–æ–∫–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø–µ—Ä–µ–¥ commit

```bash
# Backend
cd backend
ruff check app/
mypy app/ --ignore-missing-imports
pytest tests/ --cov=app

# Frontend
cd frontend
npm run test
npm run build
```

---

## –ü–æ–∫—Ä—ã—Ç–∏–µ –∫–æ–¥–∞

### –¶–µ–ª–∏ –ø–æ–∫—Ä—ã—Ç–∏—è

–ü—Ä–æ–µ–∫—Ç —Å—Ç—Ä–µ–º–∏—Ç—Å—è –∫ —Å–ª–µ–¥—É—é—â–∏–º —Ü–µ–ª—è–º –ø–æ–∫—Ä—ã—Ç–∏—è:

- **Backend**: 80%+ –ø–æ–∫—Ä—ã—Ç–∏–µ –∫–æ–¥–∞
- **Frontend**: 80%+ –ø–æ–∫—Ä—ã—Ç–∏–µ –∫–æ–¥–∞
- **–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –º–æ–¥—É–ª–∏**: 90%+ –ø–æ–∫—Ä—ã—Ç–∏–µ

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–∫—Ä—ã—Ç–∏—è

```bash
# Backend
cd backend
pytest tests/ --cov=app --cov-report=term-missing --cov-fail-under=80

# Frontend
cd frontend
npm run test:coverage
```

### –ò—Å–∫–ª—é—á–µ–Ω–∏—è –∏–∑ –ø–æ–∫—Ä—ã—Ç–∏—è

–ù–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è 100% –ø–æ–∫—Ä—ã—Ç–∏–µ –¥–ª—è:
- –ú–∏–≥—Ä–∞—Ü–∏–π –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
- –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤
- –í–Ω–µ—à–Ω–∏—Ö –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–π (–º–æ–∫–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –≤–º–µ—Å—Ç–æ –Ω–∏—Ö)
- –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä–æ–≤ –∫–æ–¥–∞

### –ü—Ä–æ—Å–º–æ—Ç—Ä –¥–µ—Ç–∞–ª—å–Ω–æ–≥–æ –æ—Ç—á–µ—Ç–∞

```bash
# Backend HTML –æ—Ç—á–µ—Ç
cd backend
pytest tests/ --cov=app --cov-report=html
open htmlcov/index.html

# Frontend HTML –æ—Ç—á–µ—Ç
cd frontend
npm run test:coverage
open coverage/index.html
```

---

## Best Practices

### 1. –ò–º–µ–Ω–æ–≤–∞–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤

```python
# ‚úÖ –•–æ—Ä–æ—à–æ
def test_create_research_with_valid_data():
    pass

# ‚ùå –ü–ª–æ—Ö–æ
def test1():
    pass
```

### 2. Arrange-Act-Assert Pattern

```python
def test_analyze_market():
    # Arrange (–ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞)
    service = LLMService()
    product = "Test product"

    # Act (–¥–µ–π—Å—Ç–≤–∏–µ)
    result = await service.analyze_market(product, "Tech", "Moscow")

    # Assert (–ø—Ä–æ–≤–µ—Ä–∫–∞)
    assert result is not None
    assert "–∞–Ω–∞–ª–∏–∑" in result.lower()
```

### 3. –ò–∑–æ–ª—è—Ü–∏—è —Ç–µ—Å—Ç–æ–≤

- –ö–∞–∂–¥—ã–π —Ç–µ—Å—Ç –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã–º
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ñ–∏–∫—Å—Ç—É—Ä—ã –¥–ª—è setup/teardown
- –ù–µ –ø–æ–ª–∞–≥–∞–π—Ç–µ—Å—å –Ω–∞ –ø–æ—Ä—è–¥–æ–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Ç–µ—Å—Ç–æ–≤

### 4. –ú–æ–∫–∏ –∏ –∑–∞–≥–ª—É—à–∫–∏

```python
from unittest.mock import patch, Mock

@patch('app.services.llm_service.ChatOpenAI')
async def test_with_mock(mock_openai):
    mock_openai.return_value = Mock(analyze=lambda x: "mocked result")
    # —Ç–µ—Å—Ç —Å –º–æ–∫–æ–º
```

### 5. –¢–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ

- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ä–µ–∞–ª–∏—Å—Ç–∏—á–Ω—ã–µ —Ç–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ
- –°–æ–∑–¥–∞–≤–∞–π—Ç–µ —Ñ–∏–∫—Å—Ç—É—Ä—ã –¥–ª—è –æ–±—â–∏—Ö —Ç–µ—Å—Ç–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- –û—á–∏—â–∞–π—Ç–µ —Ç–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ –ø–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

---

## Troubleshooting

### –ü—Ä–æ–±–ª–µ–º–∞: –¢–µ—Å—Ç—ã –ø–∞–¥–∞—é—Ç —Å –æ—à–∏–±–∫–æ–π –ë–î

**–†–µ—à–µ–Ω–∏–µ:**
```bash
# –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ PostgreSQL –∏ Redis –∑–∞–ø—É—â–µ–Ω—ã
docker-compose up -d postgres redis

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
export DATABASE_URL="postgresql://test_user:test_password@localhost:5432/test_db"
export REDIS_URL="redis://localhost:6379"
```

### –ü—Ä–æ–±–ª–µ–º–∞: Frontend E2E —Ç–µ—Å—Ç—ã –Ω–µ –∑–∞–ø—É—Å–∫–∞—é—Ç—Å—è

**–†–µ—à–µ–Ω–∏–µ:**
```bash
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –±—Ä–∞—É–∑–µ—Ä—ã Playwright
npx playwright install

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ dev —Å–µ—Ä–≤–µ—Ä –∑–∞–ø—É—â–µ–Ω
npm run dev
```

### –ü—Ä–æ–±–ª–µ–º–∞: –ù–∏–∑–∫–æ–µ –ø–æ–∫—Ä—ã—Ç–∏–µ –∫–æ–¥–∞

**–†–µ—à–µ–Ω–∏–µ:**
1. –û–ø—Ä–µ–¥–µ–ª–∏—Ç–µ –Ω–µ–ø–æ–∫—Ä—ã—Ç—ã–µ —É—á–∞—Å—Ç–∫–∏ –∫–æ–¥–∞:
   ```bash
   pytest tests/ --cov=app --cov-report=term-missing
   ```
2. –î–æ–±–∞–≤—å—Ç–µ —Ç–µ—Å—Ç—ã –¥–ª—è –Ω–µ–ø–æ–∫—Ä—ã—Ç—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ –≤—Å–µ –≤–µ—Ç–∫–∏ –∫–æ–¥–∞ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω—ã

---

## –ö–æ–Ω—Ç–∞–∫—Ç—ã –∏ –ø–æ–¥–¥–µ—Ä–∂–∫–∞

–ï—Å–ª–∏ —É –≤–∞—Å –≤–æ–∑–Ω–∏–∫–ª–∏ –≤–æ–ø—Ä–æ—Å—ã –ø–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é:

1. –°–æ–∑–¥–∞–π—Ç–µ Issue –Ω–∞ GitHub
2. –û–±—Ä–∞—Ç–∏—Ç–µ—Å—å –∫ –∫–æ–º–∞–Ω–¥–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–æ–≤:
   - [Pytest Documentation](https://docs.pytest.org/)
   - [Vitest Documentation](https://vitest.dev/)
   - [Playwright Documentation](https://playwright.dev/)
   - [Locust Documentation](https://docs.locust.io/)

---

**–í–µ—Ä—Å–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∞**: 1.0
**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ**: 2026-02-02
**–ê–≤—Ç–æ—Ä**: AI Development Team
